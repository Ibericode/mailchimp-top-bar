{"version":3,"sources":["script.js"],"names":["require","undefined","r","e","n","t","o","i","f","c","u","a","Error","code","p","exports","call","length","1","module","css","element","styles","property","hasOwnProperty","style","initObjectProperties","properties","value","newObject","copyObjectProperties","object","animated","getAttribute","toggle","animation","nowVisible","display","offsetLeft","clone","cloneNode","cleanup","removeAttribute","setAttribute","hiddenStyles","visibleStyles","computedStyles","window","getComputedStyle","overflowY","animate","opacity","targetStyles","fn","startTime","diff","startStyles","to","parseFloat","current","tick","timestamp","progress","Math","min","duration","_property","suffix","easeOutQuad","requestAnimationFrame","2","throttle","threshhold","scope","last","deferTimer","context","this","now","Date","args","arguments","clearTimeout","setTimeout","apply","Bar","wrapperEl","config","init","noJsField","barEl","querySelector","parentElement","removeChild","formEl","addEventListener","submitForm","isBottomBar","insertBefore","iconEl","originalBodyPadding","parseInt","document","body","paddingBottom","nextElementSibling","paddingTop","innerHTML","icons","show","querySelectorAll","className","calculateDimensions","cookies","read","responseEl","fadeResponse","evt","loader","Loader","data","FormData","request","XMLHttpRequest","onreadystatechange","response","readyState","stop","status","JSON","parse","responseText","error","console","log","state","success","submitted","redirect_url","location","href","showResponseMessage","message","reset","open","setRequestHeader","send","start","preventDefault","msg","parentNode","createElement","labelEl","innerText","appendChild","origBarDisplay","visibility","bodyPadding","clientHeight","visible","elementsWidth","firstElementChild","children","clientWidth","replace","minHeight","height","lineHeight","manual","erase","animator","hide","create","cookieLength","position","./animator.js","./cookies.js","./loader.js","3","name","days","expires","date","setTime","getTime","toGMTString","cookie","encodeURIComponent","nameEQ","ca","split","charAt","substring","indexOf","decodeURIComponent","4","getButtonText","button","setButtonText","text","formElement","form","loadingInterval","character","originalButton","prototype","setCharacter","loadingText","width","setInterval","bind","loadingChar","clearInterval","5","getElementById","MailChimpTopBar","mctb","./bar.js"],"mappings":"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","file":"script.min.js","sourcesContent":["(function () { var require = undefined; var module = undefined; var exports = undefined; var define = undefined;(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n'use strict';\n\nvar duration = 600;\n\nvar easeOutQuad = function easeOutQuad(t) {\n  return t * (2 - t);\n};\n\nfunction css(element, styles) {\n  for (var property in styles) {\n    if (!styles.hasOwnProperty(property)) {\n      continue;\n    }\n\n    element.style[property] = styles[property];\n  }\n}\n\nfunction initObjectProperties(properties, value) {\n  var newObject = {};\n\n  for (var i = 0; i < properties.length; i++) {\n    newObject[properties[i]] = value;\n  }\n\n  return newObject;\n}\n\nfunction copyObjectProperties(properties, object) {\n  var newObject = {};\n\n  for (var i = 0; i < properties.length; i++) {\n    newObject[properties[i]] = object[properties[i]];\n  }\n\n  return newObject;\n}\n/**\n * Checks if the given element is currently being animated.\n *\n * @param element\n * @returns {boolean}\n */\n\n\nfunction animated(element) {\n  return !!element.getAttribute('data-animated');\n}\n/**\n * Toggles the element using the given animation.\n *\n * @param element\n * @param animation Either \"fade\" or \"slide\"\n */\n\n\nfunction toggle(element, animation) {\n  var nowVisible = element.style.display !== 'none' || element.offsetLeft > 0; // create clone for reference\n\n  var clone = element.cloneNode(true);\n\n  var cleanup = function cleanup() {\n    element.removeAttribute('data-animated');\n    element.setAttribute('style', clone.getAttribute('style'));\n    element.style.display = nowVisible ? 'none' : '';\n  }; // store attribute so everyone knows we're animating this element\n\n\n  element.setAttribute('data-animated', \"true\"); // toggle element visiblity right away if we're making something visible\n\n  if (!nowVisible) {\n    element.style.display = '';\n  }\n\n  var hiddenStyles, visibleStyles; // animate properties\n\n  if (animation === 'slide') {\n    hiddenStyles = initObjectProperties([\"height\", \"borderTopWidth\", \"borderBottomWidth\", \"paddingTop\", \"paddingBottom\"], 0);\n    visibleStyles = {};\n\n    if (!nowVisible) {\n      var computedStyles = window.getComputedStyle(element);\n      visibleStyles = copyObjectProperties([\"height\", \"borderTopWidth\", \"borderBottomWidth\", \"paddingTop\", \"paddingBottom\"], computedStyles);\n      css(element, hiddenStyles);\n    } // don't show a scrollbar during animation\n\n\n    element.style.overflowY = 'hidden';\n    animate(element, nowVisible ? hiddenStyles : visibleStyles, cleanup);\n  } else {\n    hiddenStyles = {\n      opacity: 0\n    };\n    visibleStyles = {\n      opacity: 1\n    };\n\n    if (!nowVisible) {\n      css(element, hiddenStyles);\n    }\n\n    animate(element, nowVisible ? hiddenStyles : visibleStyles, cleanup);\n  }\n}\n\nfunction animate(element, targetStyles, fn) {\n  var startTime = null;\n  var styles = window.getComputedStyle(element);\n  var diff = {};\n  var startStyles = {};\n\n  for (var property in targetStyles) {\n    if (!targetStyles.hasOwnProperty(property)) {\n      continue;\n    } // calculate step size & current value\n\n\n    var to = parseFloat(targetStyles[property]);\n    var current = parseFloat(styles[property]); // is there something to do?\n\n    if (current === to) {\n      continue;\n    }\n\n    startStyles[property] = current;\n    diff[property] = to - current;\n  }\n\n  var tick = function tick(timestamp) {\n    if (!startTime) startTime = timestamp;\n    var progress = Math.min((timestamp - startTime) / duration, 1.00);\n\n    for (var _property in diff) {\n      if (!diff.hasOwnProperty(_property)) {\n        continue;\n      }\n\n      var suffix = _property !== \"opacity\" ? \"px\" : \"\";\n      element.style[_property] = startStyles[_property] + diff[_property] * easeOutQuad(progress) + suffix;\n    }\n\n    if (progress < 1.00) {\n      return window.requestAnimationFrame(tick);\n    } // animation finished!\n\n\n    if (fn) {\n      fn();\n    }\n  };\n\n  window.requestAnimationFrame(tick);\n}\n\nmodule.exports = {\n  'toggle': toggle,\n  'animate': animate,\n  'animated': animated\n};\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nvar cookies = require('./cookies.js');\n\nvar animator = require('./animator.js');\n\nvar Loader = require('./loader.js');\n\nfunction throttle(fn, threshhold, scope) {\n  threshhold || (threshhold = 250);\n  var last, deferTimer;\n  return function () {\n    var context = scope || this;\n    var now = +new Date(),\n        args = arguments;\n\n    if (last && now < last + threshhold) {\n      // hold on to it\n      clearTimeout(deferTimer);\n      deferTimer = setTimeout(function () {\n        last = now;\n        fn.apply(context, args);\n      }, threshhold);\n    } else {\n      last = now;\n      fn.apply(context, args);\n    }\n  };\n}\n\nfunction Bar(wrapperEl, config) {\n  // Vars & State\n  var barEl = wrapperEl.querySelector('.mctb-bar');\n  var iconEl = document.createElement('span');\n  var responseEl = wrapperEl.querySelector('.mctb-response');\n  var formEl = barEl.querySelector('form');\n  var visible = false,\n      originalBodyPadding = 0,\n      bodyPadding = 0,\n      isBottomBar = config.position === 'bottom';\n  var state = config.state; // Functions\n\n  function init() {\n    // remove \"no_js\" field\n    var noJsField = barEl.querySelector('input[name=\"_mctb_no_js\"]');\n    noJsField.parentElement.removeChild(noJsField);\n    formEl.addEventListener('submit', submitForm); // save original bodyPadding\n\n    if (isBottomBar) {\n      wrapperEl.insertBefore(iconEl, barEl);\n      originalBodyPadding = parseInt(document.body.style.paddingBottom) || 0;\n    } else {\n      wrapperEl.insertBefore(iconEl, barEl.nextElementSibling);\n      originalBodyPadding = parseInt(document.body.style.paddingTop) || 0;\n    } // configure icon\n\n\n    iconEl.setAttribute('class', 'mctb-close');\n    iconEl.innerHTML = config.icons.show;\n    iconEl.addEventListener('click', toggle); // count input fields (3 because of hidden input honeypot)\n\n    if (barEl.querySelectorAll('input:not([type=\"hidden\"])').length > 3) {\n      wrapperEl.className += \" multiple-input-fields\";\n    } // calculate initial dimensions\n\n\n    calculateDimensions(); // on dom repaint, bar height changes. re-calculate in next repaint.\n\n    window.requestAnimationFrame(calculateDimensions); // Show the bar straight away?\n\n    if (cookies.read(\"mctb_bar_hidden\") != 1) {\n      show();\n    } // fade response 4 seconds after showing bar\n\n\n    if (responseEl) {\n      window.setTimeout(fadeResponse, 4000);\n    }\n\n    window.addEventListener('resize', throttle(calculateDimensions, 40));\n  }\n\n  function submitForm(evt) {\n    var loader = new Loader(formEl);\n    var data = new FormData(formEl);\n    var request = new XMLHttpRequest();\n\n    request.onreadystatechange = function () {\n      var response; // are we done?\n\n      if (this.readyState !== 4) {\n        return;\n      }\n\n      loader.stop();\n\n      if (this.status >= 200 && this.status < 400) {\n        try {\n          response = JSON.parse(this.responseText);\n        } catch (error) {\n          console.log('MailChimp Top Bar: failed to parse AJAX response.\\n\\nError: \"' + error + '\"');\n          return;\n        }\n\n        state.success = !!response.success;\n        state.submitted = true;\n\n        if (response.success && response.redirect_url) {\n          window.location.href = response.redirect_url;\n          return;\n        }\n\n        showResponseMessage(response.message); // clear form\n\n        if (state.success) {\n          formEl.reset();\n        }\n      } else {\n        // Server error :(\n        console.log(this.responseText);\n      }\n    };\n\n    request.open('POST', window.location.href, true);\n    request.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n    request.send(data);\n    request = null;\n    loader.start();\n    evt.preventDefault();\n  }\n\n  function showResponseMessage(msg) {\n    if (responseEl) {\n      responseEl.parentNode.removeChild(responseEl);\n    }\n\n    responseEl = document.createElement('div');\n    responseEl.className = \"mctb-response\";\n    var labelEl = document.createElement('label');\n    labelEl.className = \"mctb-response-label\";\n    labelEl.innerText = msg;\n    responseEl.appendChild(labelEl);\n    formEl.parentNode.insertBefore(responseEl, formEl.nextElementSibling);\n    calculateDimensions();\n    window.setTimeout(fadeResponse, 4000);\n  }\n\n  function calculateDimensions() {\n    // make sure bar is visible\n    var origBarDisplay = barEl.style.display;\n\n    if (origBarDisplay !== 'block') {\n      barEl.style.visibility = 'hidden';\n    }\n\n    barEl.style.display = 'block'; // calculate & set new body padding if bar is currently visible\n\n    bodyPadding = originalBodyPadding + barEl.clientHeight + \"px\";\n\n    if (visible) {\n      document.body.style[isBottomBar ? 'paddingBottom' : 'paddingTop'] = bodyPadding;\n    } // would the close icon fit inside the bar?\n\n\n    var elementsWidth = 0;\n\n    for (var i = 0; i < barEl.firstElementChild.children.length; i++) {\n      elementsWidth += barEl.firstElementChild.children[i].clientWidth;\n    }\n\n    wrapperEl.className = wrapperEl.className.replace('mctb-icon-inside-bar', '');\n\n    if (elementsWidth + iconEl.clientWidth + 200 < barEl.clientWidth) {\n      wrapperEl.className += ' mctb-icon-inside-bar'; // since icon is now absolutely positioned, we need to set a min height\n\n      if (isBottomBar) {\n        wrapperEl.style.minHeight = iconEl.clientHeight + \"px\";\n      }\n    } // fix response height\n\n\n    if (responseEl) {\n      responseEl.style.height = barEl.clientHeight + \"px\";\n      responseEl.style.lineHeight = barEl.clientHeight + \"px\";\n    } // reset bar again, we're done measuring\n\n\n    barEl.style.display = origBarDisplay;\n    barEl.style.visibility = '';\n  }\n  /**\n   * Show the bar\n   *\n   * @returns {boolean}\n   */\n\n\n  function show(manual) {\n    if (visible) {\n      return false;\n    }\n\n    if (manual) {\n      cookies.erase('mctb_bar_hidden');\n      animator.toggle(barEl, \"slide\"); // animate body padding\n\n      var styles = {};\n      styles[isBottomBar ? 'paddingBottom' : 'paddingTop'] = bodyPadding;\n      animator.animate(document.body, styles);\n    } else {\n      // Add bar height to <body> padding\n      barEl.style.display = 'block';\n      document.body.style[isBottomBar ? 'paddingBottom' : 'paddingTop'] = bodyPadding;\n    }\n\n    iconEl.innerHTML = config.icons.hide;\n    visible = true;\n    return true;\n  }\n  /**\n   * Hide the bar\n   *\n   * @returns {boolean}\n   */\n\n\n  function hide(manual) {\n    if (!visible) {\n      return false;\n    }\n\n    if (manual) {\n      cookies.create(\"mctb_bar_hidden\", 1, config.cookieLength);\n      animator.toggle(barEl, \"slide\"); // animate body padding\n\n      var styles = {};\n      styles[isBottomBar ? 'paddingBottom' : 'paddingTop'] = originalBodyPadding;\n      animator.animate(document.body, styles);\n    } else {\n      barEl.style.display = 'none';\n      document.body.style[isBottomBar ? 'paddingBottom' : 'paddingTop'] = originalBodyPadding + \"px\";\n    }\n\n    visible = false;\n    iconEl.innerHTML = config.icons.show;\n    return true;\n  }\n  /**\n   * Fade out the response message\n   */\n\n\n  function fadeResponse() {\n    if (!responseEl) {\n      return;\n    }\n\n    animator.toggle(responseEl, \"fade\"); // auto-dismiss bar if we're good!\n\n    if (state.submitted && state.success) {\n      window.setTimeout(function () {\n        hide(true);\n      }, 1000);\n    }\n  }\n  /**\n   * Toggle visibility of the bar\n   *\n   * @returns {boolean}\n   */\n\n\n  function toggle() {\n    if (animator.animated(barEl)) {\n      return false;\n    }\n\n    return visible ? hide(true) : show(true);\n  } // Code to run upon object instantiation\n\n\n  init(); // Return values\n\n  return {\n    element: wrapperEl,\n    toggle: toggle,\n    show: show,\n    hide: hide\n  };\n}\n\nmodule.exports = Bar;\n\n},{\"./animator.js\":1,\"./cookies.js\":3,\"./loader.js\":4}],3:[function(require,module,exports){\n'use strict';\n/**\n * Creates a cookie\n *\n * @param name\n * @param value\n * @param days\n */\n\nfunction create(name, value, days) {\n  var expires;\n\n  if (days) {\n    var date = new Date();\n    date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n    expires = \"; expires=\" + date.toGMTString();\n  } else {\n    expires = \"\";\n  }\n\n  document.cookie = encodeURIComponent(name) + \"=\" + encodeURIComponent(value) + expires + \"; path=/\";\n}\n/**\n * Reads a cookie\n *\n * @param name\n * @returns {*}\n */\n\n\nfunction read(name) {\n  var nameEQ = encodeURIComponent(name) + \"=\";\n  var ca = document.cookie.split(';');\n\n  for (var i = 0; i < ca.length; i++) {\n    var c = ca[i];\n\n    while (c.charAt(0) === ' ') {\n      c = c.substring(1, c.length);\n    }\n\n    if (c.indexOf(nameEQ) === 0) return decodeURIComponent(c.substring(nameEQ.length, c.length));\n  }\n\n  return null;\n}\n/**\n * Erases a cookie\n *\n * @param name\n */\n\n\nfunction erase(name) {\n  create(name, \"\", -1);\n}\n\nmodule.exports = {\n  'read': read,\n  'create': create,\n  'erase': erase\n};\n\n},{}],4:[function(require,module,exports){\n'use strict';\n\nfunction getButtonText(button) {\n  return button.innerHTML ? button.innerHTML : button.value;\n}\n\nfunction setButtonText(button, text) {\n  button.innerHTML ? button.innerHTML = text : button.value = text;\n}\n\nfunction Loader(formElement) {\n  this.form = formElement;\n  this.button = formElement.querySelector('input[type=\"submit\"], button[type=\"submit\"]');\n  this.loadingInterval = 0;\n  this.character = \"\\xB7\";\n\n  if (this.button) {\n    this.originalButton = this.button.cloneNode(true);\n  }\n}\n\nLoader.prototype.setCharacter = function (c) {\n  this.character = c;\n};\n\nLoader.prototype.start = function () {\n  if (this.button) {\n    // loading text\n    var loadingText = this.button.getAttribute('data-loading-text');\n\n    if (loadingText) {\n      setButtonText(this.button, loadingText);\n      return;\n    } // Show AJAX loader\n\n\n    var styles = window.getComputedStyle(this.button);\n    this.button.style.width = styles.width;\n    setButtonText(this.button, this.character);\n    this.loadingInterval = window.setInterval(this.tick.bind(this), 500);\n  } else {\n    this.form.style.opacity = '0.5';\n  }\n};\n\nLoader.prototype.tick = function () {\n  // count chars, start over at 5\n  var text = getButtonText(this.button);\n  var loadingChar = this.character;\n  setButtonText(this.button, text.length >= 5 ? loadingChar : text + \" \" + loadingChar);\n};\n\nLoader.prototype.stop = function () {\n  if (this.button) {\n    this.button.style.width = this.originalButton.style.width;\n    var text = getButtonText(this.originalButton);\n    setButtonText(this.button, text);\n    window.clearInterval(this.loadingInterval);\n  } else {\n    this.form.style.opacity = '';\n  }\n};\n\nmodule.exports = Loader;\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\nvar Bar = require('./bar.js');\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  var element = document.getElementById('mailchimp-top-bar');\n  window.MailChimpTopBar = new Bar(element, window.mctb);\n});\n\n},{\"./bar.js\":2}]},{},[5]);\n; })();"]}