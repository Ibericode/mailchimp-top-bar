{"version":3,"sources":["script.js"],"names":["require","undefined","r","e","n","t","o","i","f","c","u","a","Error","code","p","exports","call","length","1","module","css","element","styles","property","style","initObjectProperties","properties","value","newObject","copyObjectProperties","object","animated","getAttribute","toggle","animation","nowVisible","display","offsetLeft","clone","cloneNode","cleanup","removeAttribute","setAttribute","hiddenStyles","visibleStyles","computedStyles","window","getComputedStyle","overflowY","animate","opacity","targetStyles","fn","startTime","performance","now","diff","startStyles","to","parseFloat","current","tick","progress","Math","min","duration","suffix","easeOutQuint","requestAnimationFrame","2","throttle","threshhold","scope","last","deferTimer","context","this","Date","args","arguments","clearTimeout","setTimeout","apply","Bar","wrapperEl","config","init","noJsField","barEl","querySelector","parentElement","removeChild","formEl","addEventListener","submitForm","isBottomBar","insertBefore","iconEl","originalBodyPadding","parseInt","document","body","paddingBottom","nextElementSibling","paddingTop","innerHTML","icons","show","querySelectorAll","className","calculateDimensions","cookies","read","responseEl","fadeResponse","evt","loader","Loader","data","FormData","request","XMLHttpRequest","onreadystatechange","response","readyState","stop","status","JSON","parse","responseText","error","console","log","state","success","submitted","redirect_url","location","href","showResponseMessage","message","reset","open","setRequestHeader","send","start","preventDefault","msg","parentNode","createElement","labelEl","innerText","appendChild","origBarDisplay","visibility","bodyPadding","clientHeight","visible","elementsWidth","firstElementChild","children","clientWidth","replace","minHeight","height","lineHeight","manual","erase","animator","hide","create","cookieLength","position","./animator.js","./cookies.js","./loader.js","3","name","days","expires","date","setTime","getTime","toGMTString","cookie","encodeURIComponent","nameEQ","ca","split","charAt","substring","indexOf","decodeURIComponent","4","getButtonText","button","setButtonText","text","formElement","form","loadingInterval","character","originalButton","prototype","setCharacter","loadingText","width","setInterval","bind","loadingChar","clearInterval","5","ready","getElementById","MailChimpTopBar","mctb","./bar.js"],"mappings":"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","file":"script.min.js","sourcesContent":["(function () { var require = undefined; var module = undefined; var exports = undefined; var define = undefined;(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n'use strict';\n\nvar duration = 800;\n\nvar easeOutQuint = function easeOutQuint(t) {\n  return 1 + --t * t * t * t * t;\n};\n\nfunction css(element, styles) {\n  for (var property in styles) {\n    element.style[property] = styles[property];\n  }\n}\n\nfunction initObjectProperties(properties, value) {\n  var newObject = {};\n\n  for (var i = 0; i < properties.length; i++) {\n    newObject[properties[i]] = value;\n  }\n\n  return newObject;\n}\n\nfunction copyObjectProperties(properties, object) {\n  var newObject = {};\n\n  for (var i = 0; i < properties.length; i++) {\n    newObject[properties[i]] = object[properties[i]];\n  }\n\n  return newObject;\n}\n/**\n * Checks if the given element is currently being animated.\n *\n * @param element\n * @returns {boolean}\n */\n\n\nfunction animated(element) {\n  return !!element.getAttribute('data-animated');\n}\n/**\n * Toggles the element using the given animation.\n *\n * @param element\n * @param animation Either \"fade\" or \"slide\"\n */\n\n\nfunction toggle(element, animation) {\n  var nowVisible = element.style.display != 'none' || element.offsetLeft > 0; // create clone for reference\n\n  var clone = element.cloneNode(true);\n\n  var cleanup = function cleanup() {\n    element.removeAttribute('data-animated');\n    element.setAttribute('style', clone.getAttribute('style'));\n    element.style.display = nowVisible ? 'none' : '';\n  }; // store attribute so everyone knows we're animating this element\n\n\n  element.setAttribute('data-animated', \"true\"); // toggle element visiblity right away if we're making something visible\n\n  if (!nowVisible) {\n    element.style.display = '';\n  }\n\n  var hiddenStyles, visibleStyles; // animate properties\n\n  if (animation === 'slide') {\n    hiddenStyles = initObjectProperties([\"height\", \"borderTopWidth\", \"borderBottomWidth\", \"paddingTop\", \"paddingBottom\"], 0);\n    visibleStyles = {};\n\n    if (!nowVisible) {\n      var computedStyles = window.getComputedStyle(element);\n      visibleStyles = copyObjectProperties([\"height\", \"borderTopWidth\", \"borderBottomWidth\", \"paddingTop\", \"paddingBottom\"], computedStyles);\n      css(element, hiddenStyles);\n    } // don't show a scrollbar during animation\n\n\n    element.style.overflowY = 'hidden';\n    animate(element, nowVisible ? hiddenStyles : visibleStyles, cleanup);\n  } else {\n    hiddenStyles = {\n      opacity: 0\n    };\n    visibleStyles = {\n      opacity: 1\n    };\n\n    if (!nowVisible) {\n      css(element, hiddenStyles);\n    }\n\n    animate(element, nowVisible ? hiddenStyles : visibleStyles, cleanup);\n  }\n}\n\nfunction animate(element, targetStyles, fn) {\n  var startTime = performance.now();\n  var styles = window.getComputedStyle(element);\n  var diff = {};\n  var startStyles = {};\n\n  for (var property in targetStyles) {\n    // calculate step size & current value\n    var to = parseFloat(targetStyles[property]);\n    var current = parseFloat(styles[property]); // is there something to do?\n\n    if (current == to) {\n      continue;\n    }\n\n    startStyles[property] = current;\n    diff[property] = to - current;\n  }\n\n  var tick = function tick(t) {\n    var progress = Math.min((t - startTime) / duration, 1);\n\n    for (var property in diff) {\n      var suffix = property !== \"opacity\" ? \"px\" : \"\";\n      element.style[property] = startStyles[property] + diff[property] * easeOutQuint(progress) + suffix;\n    }\n\n    if (progress >= 1) {\n      if (fn) {\n        fn();\n      }\n\n      return;\n    }\n\n    window.requestAnimationFrame(tick);\n  };\n\n  window.requestAnimationFrame(tick);\n}\n\nmodule.exports = {\n  'toggle': toggle,\n  'animate': animate,\n  'animated': animated\n};\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nvar cookies = require('./cookies.js');\n\nvar animator = require('./animator.js');\n\nvar Loader = require('./loader.js');\n\nfunction throttle(fn, threshhold, scope) {\n  threshhold || (threshhold = 250);\n  var last, deferTimer;\n  return function () {\n    var context = scope || this;\n    var now = +new Date(),\n        args = arguments;\n\n    if (last && now < last + threshhold) {\n      // hold on to it\n      clearTimeout(deferTimer);\n      deferTimer = setTimeout(function () {\n        last = now;\n        fn.apply(context, args);\n      }, threshhold);\n    } else {\n      last = now;\n      fn.apply(context, args);\n    }\n  };\n}\n\nfunction Bar(wrapperEl, config) {\n  // Vars & State\n  var barEl = wrapperEl.querySelector('.mctb-bar');\n  var iconEl = document.createElement('span');\n  var responseEl = wrapperEl.querySelector('.mctb-response');\n  var formEl = barEl.querySelector('form');\n  var visible = false,\n      originalBodyPadding = 0,\n      bodyPadding = 0,\n      isBottomBar = config.position === 'bottom';\n  var state = config.state; // Functions\n\n  function init() {\n    // remove \"no_js\" field\n    var noJsField = barEl.querySelector('input[name=\"_mctb_no_js\"]');\n    noJsField.parentElement.removeChild(noJsField);\n    formEl.addEventListener('submit', submitForm); // save original bodyPadding\n\n    if (isBottomBar) {\n      wrapperEl.insertBefore(iconEl, barEl);\n      originalBodyPadding = parseInt(document.body.style.paddingBottom) || 0;\n    } else {\n      wrapperEl.insertBefore(iconEl, barEl.nextElementSibling);\n      originalBodyPadding = parseInt(document.body.style.paddingTop) || 0;\n    } // configure icon\n\n\n    iconEl.setAttribute('class', 'mctb-close');\n    iconEl.innerHTML = config.icons.show;\n    iconEl.addEventListener('click', toggle); // count input fields (3 because of hidden input honeypot)\n\n    if (barEl.querySelectorAll('input:not([type=\"hidden\"])').length > 3) {\n      wrapperEl.className += \" multiple-input-fields\";\n    } // calculate initial dimensions\n\n\n    calculateDimensions(); // on dom repaint, bar height changes. re-calculate in next repaint.\n\n    window.requestAnimationFrame(calculateDimensions); // Show the bar straight away?\n\n    if (cookies.read(\"mctb_bar_hidden\") != 1) {\n      show();\n    } // fade response 4 seconds after showing bar\n\n\n    if (responseEl) {\n      window.setTimeout(fadeResponse, 4000);\n    }\n\n    window.addEventListener('resize', throttle(calculateDimensions, 40));\n  }\n\n  function submitForm(evt) {\n    var loader = new Loader(formEl);\n    var data = new FormData(formEl);\n    var request = new XMLHttpRequest();\n\n    request.onreadystatechange = function () {\n      var response; // are we done?\n\n      if (this.readyState !== 4) {\n        return;\n      }\n\n      loader.stop();\n\n      if (this.status >= 200 && this.status < 400) {\n        try {\n          response = JSON.parse(this.responseText);\n        } catch (error) {\n          console.log('MailChimp Top Bar: failed to parse AJAX response.\\n\\nError: \"' + error + '\"');\n          return;\n        }\n\n        state.success = !!response.success;\n        state.submitted = true;\n\n        if (response.success && response.redirect_url) {\n          window.location.href = response.redirect_url;\n          return;\n        }\n\n        showResponseMessage(response.message); // clear form\n\n        if (state.success) {\n          formEl.reset();\n        }\n      } else {\n        // Server error :(\n        console.log(this.responseText);\n      }\n    };\n\n    request.open('POST', window.location.href, true);\n    request.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n    request.send(data);\n    request = null;\n    loader.start();\n    evt.preventDefault();\n  }\n\n  function showResponseMessage(msg) {\n    if (responseEl) {\n      responseEl.parentNode.removeChild(responseEl);\n    }\n\n    responseEl = document.createElement('div');\n    responseEl.className = \"mctb-response\";\n    var labelEl = document.createElement('label');\n    labelEl.className = \"mctb-response-label\";\n    labelEl.innerText = msg;\n    responseEl.appendChild(labelEl);\n    formEl.parentNode.insertBefore(responseEl, formEl.nextElementSibling);\n    calculateDimensions();\n    window.setTimeout(fadeResponse, 4000);\n  }\n\n  function calculateDimensions() {\n    // make sure bar is visible\n    var origBarDisplay = barEl.style.display;\n\n    if (origBarDisplay !== 'block') {\n      barEl.style.visibility = 'hidden';\n    }\n\n    barEl.style.display = 'block'; // calculate & set new body padding if bar is currently visible\n\n    bodyPadding = originalBodyPadding + barEl.clientHeight + \"px\";\n\n    if (visible) {\n      document.body.style[isBottomBar ? 'paddingBottom' : 'paddingTop'] = bodyPadding;\n    } // would the close icon fit inside the bar?\n\n\n    var elementsWidth = 0;\n\n    for (var i = 0; i < barEl.firstElementChild.children.length; i++) {\n      elementsWidth += barEl.firstElementChild.children[i].clientWidth;\n    }\n\n    wrapperEl.className = wrapperEl.className.replace('mctb-icon-inside-bar', '');\n\n    if (elementsWidth + iconEl.clientWidth + 200 < barEl.clientWidth) {\n      wrapperEl.className += ' mctb-icon-inside-bar'; // since icon is now absolutely positioned, we need to set a min height\n\n      if (isBottomBar) {\n        wrapperEl.style.minHeight = iconEl.clientHeight + \"px\";\n      }\n    } // fix response height\n\n\n    if (responseEl) {\n      responseEl.style.height = barEl.clientHeight + \"px\";\n      responseEl.style.lineHeight = barEl.clientHeight + \"px\";\n    } // reset bar again, we're done measuring\n\n\n    barEl.style.display = origBarDisplay;\n    barEl.style.visibility = '';\n  }\n  /**\n   * Show the bar\n   *\n   * @returns {boolean}\n   */\n\n\n  function show(manual) {\n    if (visible) {\n      return false;\n    }\n\n    if (manual) {\n      cookies.erase('mctb_bar_hidden');\n      animator.toggle(barEl, \"slide\"); // animate body padding\n\n      var styles = {};\n      styles[isBottomBar ? 'paddingBottom' : 'paddingTop'] = bodyPadding;\n      animator.animate(document.body, styles);\n    } else {\n      // Add bar height to <body> padding\n      barEl.style.display = 'block';\n      document.body.style[isBottomBar ? 'paddingBottom' : 'paddingTop'] = bodyPadding;\n    }\n\n    iconEl.innerHTML = config.icons.hide;\n    visible = true;\n    return true;\n  }\n  /**\n   * Hide the bar\n   *\n   * @returns {boolean}\n   */\n\n\n  function hide(manual) {\n    if (!visible) {\n      return false;\n    }\n\n    if (manual) {\n      cookies.create(\"mctb_bar_hidden\", 1, config.cookieLength);\n      animator.toggle(barEl, \"slide\"); // animate body padding\n\n      var styles = {};\n      styles[isBottomBar ? 'paddingBottom' : 'paddingTop'] = originalBodyPadding;\n      animator.animate(document.body, styles);\n    } else {\n      barEl.style.display = 'none';\n      document.body.style[isBottomBar ? 'paddingBottom' : 'paddingTop'] = originalBodyPadding + \"px\";\n    }\n\n    visible = false;\n    iconEl.innerHTML = config.icons.show;\n    return true;\n  }\n  /**\n   * Fade out the response message\n   */\n\n\n  function fadeResponse() {\n    if (!responseEl) {\n      return;\n    }\n\n    animator.toggle(responseEl, \"fade\"); // auto-dismiss bar if we're good!\n\n    if (state.submitted && state.success) {\n      window.setTimeout(function () {\n        hide(true);\n      }, 1000);\n    }\n  }\n  /**\n   * Toggle visibility of the bar\n   *\n   * @returns {boolean}\n   */\n\n\n  function toggle() {\n    if (animator.animated(barEl)) {\n      return false;\n    }\n\n    return visible ? hide(true) : show(true);\n  } // Code to run upon object instantiation\n\n\n  init(); // Return values\n\n  return {\n    element: wrapperEl,\n    toggle: toggle,\n    show: show,\n    hide: hide\n  };\n}\n\nmodule.exports = Bar;\n\n},{\"./animator.js\":1,\"./cookies.js\":3,\"./loader.js\":4}],3:[function(require,module,exports){\n'use strict';\n/**\n * Creates a cookie\n *\n * @param name\n * @param value\n * @param days\n */\n\nfunction create(name, value, days) {\n  var expires;\n\n  if (days) {\n    var date = new Date();\n    date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n    expires = \"; expires=\" + date.toGMTString();\n  } else {\n    expires = \"\";\n  }\n\n  document.cookie = encodeURIComponent(name) + \"=\" + encodeURIComponent(value) + expires + \"; path=/\";\n}\n/**\n * Reads a cookie\n *\n * @param name\n * @returns {*}\n */\n\n\nfunction read(name) {\n  var nameEQ = encodeURIComponent(name) + \"=\";\n  var ca = document.cookie.split(';');\n\n  for (var i = 0; i < ca.length; i++) {\n    var c = ca[i];\n\n    while (c.charAt(0) === ' ') {\n      c = c.substring(1, c.length);\n    }\n\n    if (c.indexOf(nameEQ) === 0) return decodeURIComponent(c.substring(nameEQ.length, c.length));\n  }\n\n  return null;\n}\n/**\n * Erases a cookie\n *\n * @param name\n */\n\n\nfunction erase(name) {\n  create(name, \"\", -1);\n}\n\nmodule.exports = {\n  'read': read,\n  'create': create,\n  'erase': erase\n};\n\n},{}],4:[function(require,module,exports){\n'use strict';\n\nfunction getButtonText(button) {\n  return button.innerHTML ? button.innerHTML : button.value;\n}\n\nfunction setButtonText(button, text) {\n  button.innerHTML ? button.innerHTML = text : button.value = text;\n}\n\nfunction Loader(formElement) {\n  this.form = formElement;\n  this.button = formElement.querySelector('input[type=\"submit\"], button[type=\"submit\"]');\n  this.loadingInterval = 0;\n  this.character = \"\\xB7\";\n\n  if (this.button) {\n    this.originalButton = this.button.cloneNode(true);\n  }\n}\n\nLoader.prototype.setCharacter = function (c) {\n  this.character = c;\n};\n\nLoader.prototype.start = function () {\n  if (this.button) {\n    // loading text\n    var loadingText = this.button.getAttribute('data-loading-text');\n\n    if (loadingText) {\n      setButtonText(this.button, loadingText);\n      return;\n    } // Show AJAX loader\n\n\n    var styles = window.getComputedStyle(this.button);\n    this.button.style.width = styles.width;\n    setButtonText(this.button, this.character);\n    this.loadingInterval = window.setInterval(this.tick.bind(this), 500);\n  } else {\n    this.form.style.opacity = '0.5';\n  }\n};\n\nLoader.prototype.tick = function () {\n  // count chars, start over at 5\n  var text = getButtonText(this.button);\n  var loadingChar = this.character;\n  setButtonText(this.button, text.length >= 5 ? loadingChar : text + \" \" + loadingChar);\n};\n\nLoader.prototype.stop = function () {\n  if (this.button) {\n    this.button.style.width = this.originalButton.style.width;\n    var text = getButtonText(this.originalButton);\n    setButtonText(this.button, text);\n    window.clearInterval(this.loadingInterval);\n  } else {\n    this.form.style.opacity = '';\n  }\n};\n\nmodule.exports = Loader;\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\nvar Bar = require('./bar.js'); // Init bar\n\n\nready(function () {\n  var element = document.getElementById('mailchimp-top-bar');\n  window.MailChimpTopBar = new Bar(element, window.mctb);\n});\n/**\n * DOMContentLoaded (IE8 compatible)\n *\n * @param fn\n */\n\nfunction ready(fn) {\n  if (document.readyState != 'loading') {\n    fn();\n  } else if (document.addEventListener) {\n    document.addEventListener('DOMContentLoaded', fn);\n  }\n}\n\n},{\"./bar.js\":2}]},{},[5]);\n; })();"]}